# HW3: ตัวอย่าง C# Class 3 ประเภท (Utility / Mutable / Immutable)

**ชื่อ-สกุล:** นาย แอนดี้ ทองขลิบ  
**รหัสนิสิต:** 66102010247  

**อ้างอิง:** Microsoft Learn (.NET API Browser)  
https://learn.microsoft.com/en-us/dotnet/api/?view=net-10.0

---

## 1) อธิบายความหมายของแต่ละClass

### 1.1 Utility Class คืออะไร ??
Utility Class คือคลาสที่เป็นเหมือนเครื่องมือให้เราเรียกใช้ฟังก์ชันได้เลยโดยส่วนมากเป็น **static class**  
- ไม่ต้อง new object ใหม่ทุกครั้งที่ต้องการใช้ครับ
- เน้นช่วยทำงานทั่วไป เช่น คำนวณ, แปลงค่า, จัดการข้อมูล  
- ส่วนใหญ่มักจะไม่มี state ของตัวเองครับ

### 1.2 Mutable Class คืออะไร ??
Mutable Class คือคลาสที่ object สามารถเปลี่ยนค่าข้างในได้หลังจากสร้างแล้วครับ 
- เรียกเมทอดแล้วทำให้ค่าข้างในเปลี่ยน  
- ข้อดีมี performance ในงานที่ต้องแก้ข้อมูลซ้ำ ๆ  
- แต่ต้องระวังผลกระทบข้างเคียงถ้าแชร์ object ด้วยครับ

### 1.3 Immutable Class คืออะไร ??
Immutable Class คือคลาสที่เปลี่ยนค่าเดิมไม่ได้ 
- ถ้าจะเปลี่ยนจะได้ object ใหม่แทน  
- ข้อดีคือปลอดภัยและคาดเดาง่าย  
- แต่ถ้าเปลี่ยนบ่อยๆอาจสร้าง object ใหม่เยอะเกินความจำเป็นครับ

---

## 2) Utility Class — System.Math 

### 2.1 ทำไมเลือก Math
System.Mathเป็นคลาสที่รวมฟังก์ชันคณิตศาสตร์สำคัญ เช่น `Sqrt`, `Pow`, `Round`, `Sin`, `Cos`  
เราใช้บ่อยมากและเรียกใช้แบบ `Math.xxx()` ได้เลย

### 2.2 ตัวอย่างโค้ด
```
double a = 25;
double root = Math.Sqrt(a);
Console.WriteLine(root); // 5
```
### 2.3 วิเคราะห์ว่าเป็น Utility Class เพราะอะไร ??
- เรียกใช้แบบ static ได้เลยเช่น Math.Sqrt(25)ไม่ต้องสร้าง object ครับ
- ไม่มี state ภายในไม่ได้มีข้อมูลภายในที่เปลี่ยนไปเรื่อย ๆ

### 2.4 ข้อดี / ข้อสังเกต
- ใช้ง่าย สั้น และชัดเจน
- ไม่ค่อยเกิด side effect เพราะเป็นการคำนวณล้วน ๆ

## 3) Mutable Class — System.Text.StringBuilder

### 3.1 ทำไมเลือก - StringBuilder
StringBuilder ใช้สำหรับประกอบ/ต่อข้อความหลายๆครั้งโดยทำได้เร็วกว่า string ในกรณีที่ต้องต่อข้อความเยอะๆ

### 3.2 ตัวอย่างโค้ด
```
var sb = new StringBuilder("Hello");
sb.Append(" World");
sb.Append("!");
Console.WriteLine(sb.ToString()); // Hello World!
```

### 3.3 วิเคราะห์ว่าเป็น Mutable Class เพราะอะไร ??
- sb เป็น object ตัวเดิมแต่พอเรียก Append() แล้วข้อความข้างในมันเปลี่ยนครับ
- มี stateภายใน (buffer) ที่เพิ่มขึ้น/เปลี่ยนได้ตลอดเวลา
- ออกแบบมาเพื่อให้แก้ไขซ้ำๆได้ดีโดยไม่ต้องสร้าง object ใหม่ทุกครั้ง

### 3.4 ข้อดี / ข้อเสีย
- ข้อดี :เร็วและประหยัดหน่วยความจำ
- ข้อเสีย :ถ้าใช้ object เดียวกันหลายส่วนอาจทำให้ผลลัพธ์เปลี่ยนแบบไม่ตั้งใจ
  
## 4) Immutable Class — System.String

### 4.1 ทำไมเลือก - System.String
stringเป็นชนิดข้อมูลข้อความที่ใช้ตลอดใน C# และที่สำคัญคือ Immutable หมายถึงเปลี่ยนค่าเดิมไม่ได้

### 4.2  ตัวอย่างโค้ด (แสดงว่าแก้ค่าเดิมไม่ได้)
```
string name = "Andy";
string upper = name.ToUpper();

Console.WriteLine(name);  // Andy
Console.WriteLine(upper); // ANDY
```

### 4.3 วิเคราะห์ว่าเป็น Immutable Class เพราะอะไร ??
- name.ToUpper()ไม่ได้แก้ name เดิม แต่คืนค่าเป็น string ใหม่
- เมทอดต่างๆของ string เช่น Replace, Trim, ToUpper จะสร้างค่าใหม่เสมอ
- ทำให้ข้อมูลปลอดภัยและคาดเดาง่ายเพราะไม่มีใครแก้ค่าของ string เดิมได้

### 4.4 ข้อดี / ข้อเสีย
- ข้อดี : ปลอดภัยและลดบั๊กเพราะvalueไม่เปลี่ยน
- ข้อเสีย : ถ้าต่อstringเยอะใน loop จะช้าครับ

---
## สรุปจากตัวอย่างใน .NET APIs
- System.Math เป็น Utility Class เพราะเป็นคลาสเครื่องมือ เรียกใช้แบบ static และไม่มี state
- System.Text.StringBuilder เป็น Mutable Class เพราะ object เดิมถูกแก้ไขได้เมื่อ Append
- System.String เป็น Immutable Class เพราะเปลี่ยนค่าเดิมไม่ได้ ทุกการแก้จะสร้างค่าใหม่

ทั้งสามแบบมีข้อดีต่างกันและเลือกใช้ให้เหมาะกับสถานการณ์ เช่น ถ้าต่อข้อความเยอะควรใช้ StringBuilder แต่ถ้าเป็นข้อความทั่วไป string จะปลอดภัยและอ่านง่ายกว่าครับ
